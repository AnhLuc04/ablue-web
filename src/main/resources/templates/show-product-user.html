<!--<!DOCTYPE html>-->
<!--<html lang="en" xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1">-->
<!--    <title>MyShop â€“ Product Details</title>-->
<!--    <script src="https://cdn.tailwindcss.com"></script>-->
<!--    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">-->
<!--    <style>-->
<!--    .variation-select:hover { transform: translateY(-2px); box-shadow:0 4px 6px rgba(0,0,0,0.1); }-->
<!--    .variation-select.active { border-color: #3b82f6; background: #eff6ff; }-->
<!--    .variation-select.out-of-stock { opacity: .5; cursor: not-allowed; position: relative; }-->
<!--    .variation-select.out-of-stock::after {-->
<!--      content:"Out of stock"; position:absolute; top:50%; left:50%; transform:translate(-50%, -50%) rotate(-15deg);-->
<!--      background:rgba(239,68,68,0.8); color:#fff; padding:2px 8px; border-radius:4px; font-size:12px;-->
<!--    }-->
<!--    .product-image:hover { transform: scale(1.05); transition: .3s; }-->
<!--    .gallery-images img:hover, .gallery-images img.active { border:2px solid #3b82f6; }-->
<!--    .price-pulse { animation: pricePulse .5s ease-in-out; }-->
<!--    @keyframes pricePulse { 0%{transform:scale(1);}50%{transform:scale(1.05);}100%{transform:scale(1);} }-->
<!--  </style>-->
<!--</head>-->
<!--<body class="bg-gray-50 text-gray-800">-->

<!--&lt;!&ndash; HEADER &ndash;&gt;-->
<!--<header class="bg-white shadow sticky top-0 z-50">-->
<!--    <div class="container mx-auto flex items-center justify-between p-4">-->
<!--        <a href="/" class="flex items-center text-2xl font-bold text-blue-600">-->
<!--            <i class="fas fa-store mr-2"></i> MyShop-->
<!--        </a>-->
<!--        <nav class="space-x-6">-->
<!--            <a href="/" class="hover:text-blue-600">Home</a>-->
<!--            <a href="/products" class="hover:text-blue-600">Products</a>-->
<!--            <a href="/stores" class="hover:text-blue-600">Stores</a>-->
<!--            <a href="/cart" class="relative hover:text-blue-600">-->
<!--                <i class="fas fa-shopping-cart"></i>-->
<!--                <span class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 text-xs flex items-center justify-center">3</span>-->
<!--            </a>-->
<!--            <a href="/login" class="hover:text-blue-600">Login</a>-->
<!--        </nav>-->
<!--    </div>-->
<!--</header>-->

<!--&lt;!&ndash; MAIN CONTENT &ndash;&gt;-->
<!--<main class="container mx-auto py-8 px-4 max-w-5xl">-->

<!--    &lt;!&ndash; Breadcrumbs &ndash;&gt;-->
<!--    <nav class="text-sm text-gray-500 mb-6">-->
<!--        <a href="/">Home</a> &gt;-->
<!--        <a href="/products">Products</a> &gt;-->
<!--        <span id="product-category">Category</span>-->
<!--    </nav>-->

<!--    <div class="bg-white shadow-lg rounded-lg overflow-hidden grid md:grid-cols-2 gap-6 mb-8">-->
<!--        &lt;!&ndash; PRODUCT IMAGES &ndash;&gt;-->
<!--        <div class="p-6">-->
<!--&lt;!&ndash;            <img id="mainImage" class="w-full h-auto rounded-lg product-image" src="" alt="Product">&ndash;&gt;-->
<!--            <div class="gallery-images flex gap-2 mt-4 overflow-x-auto" id="thumbnail-container"></div>-->
<!--        </div>-->

<!--        &lt;!&ndash; PRODUCT DETAIL &ndash;&gt;-->
<!--        <div class="p-6 flex flex-col justify-between">-->
<!--            <div>-->
<!--                <h1 id="product-name" class="text-3xl font-bold mb-2">Product Name</h1>-->
<!--                <p id="stock-status" class="text-sm mb-4"></p>-->

<!--                <div class="mb-4">-->
<!--                    <span id="product-price" class="text-3xl font-semibold mr-2">$0.00</span>-->
<!--                    <span id="product-sale-price" class="line-through text-gray-500 hidden">$0.00</span>-->
<!--                    <span id="discount-badge" class="bg-red-100 text-red-800 text-sm px-2 py-1 rounded hidden">-0%</span>-->
<!--                </div>-->

<!--                <p id="short-description" class="text-gray-600 mb-6"></p>-->
<!--                <div id="variation-container" class="space-y-4 mb-6"></div>-->

<!--                <div class="flex items-center space-x-4 mb-6">-->
<!--                    <div class="flex items-center border rounded">-->
<!--                        <button onclick="adjustQuantity(-1)" class="px-3 py-1 hover:bg-gray-200"><i class="fas fa-minus"></i></button>-->
<!--                        <input id="quantity" type="number" value="1" min="1" class="w-16 text-center p-2 border-l border-r focus:outline-none">-->
<!--                        <button onclick="adjustQuantity(1)" class="px-3 py-1 hover:bg-gray-200"><i class="fas fa-plus"></i></button>-->
<!--                    </div>-->
<!--                    <button id="add-to-cart" class="flex-1 bg-blue-600 text-white py-2 rounded shadow hover:bg-blue-700 transition">-->
<!--                        <i class="fas fa-cart-plus mr-2"></i> Add to Cart-->
<!--                    </button>-->
<!--                    <button id="buy-now" class="bg-green-600 text-white py-2 px-4 rounded shadow hover:bg-green-700 transition">-->
<!--                        <i class="fas fa-bolt mr-1"></i> Buy Now-->
<!--                    </button>-->
<!--                </div>-->
<!--            </div>-->

<!--            <div class="border-t pt-4 text-sm text-gray-600 grid grid-cols-2 gap-4">-->
<!--                <div>SKU: <span id="sku" class="font-medium"></span></div>-->
<!--                <div>Category: <span id="category" class="font-medium"></span></div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

<!--    &lt;!&ndash; DETAILED INFO &ndash;&gt;-->
<!--    <section class="bg-white shadow rounded-lg p-6 mb-8">-->
<!--        <h2 class="text-2xl font-semibold mb-4">Product Description</h2>-->
<!--        <div id="full-description" class="prose max-w-none"></div>-->

<!--        <div class="mt-6">-->
<!--            <h3 class="text-xl font-semibold mb-2">Size Guide</h3>-->
<!--            <img id="size-guide-image" class="w-full h-auto rounded" src="" alt="Size Guide">-->
<!--        </div>-->
<!--    </section>-->

<!--    &lt;!&ndash; REVIEWS &ndash;&gt;-->
<!--    <section class="bg-white shadow rounded-lg p-6 mb-8">-->
<!--        <h2 class="text-2xl font-semibold mb-4">Customer Reviews</h2>-->
<!--        <div id="review-list" class="space-y-4"></div>-->
<!--        <button class="mt-4 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition">-->
<!--            <i class="fas fa-comment-dots mr-2"></i> Write a Review-->
<!--        </button>-->
<!--    </section>-->

<!--    &lt;!&ndash; RELATED PRODUCTS &ndash;&gt;-->
<!--    <section class="bg-white shadow rounded-lg p-6 mb-8">-->
<!--        <h2 class="text-2xl font-semibold mb-4">Related Products</h2>-->
<!--        <div id="related-products-list" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>-->
<!--    </section>-->

<!--</main>-->

<!--&lt;!&ndash; FOOTER &ndash;&gt;-->
<!--<footer class="bg-gray-800 text-gray-400 py-6">-->
<!--    <div class="container mx-auto text-center space-y-4">-->
<!--        <p>&copy; 2025 MyShop. All rights reserved.</p>-->
<!--        <div class="space-x-6">-->
<!--            <a href="#" class="hover:text-white">Privacy Policy</a>-->
<!--            <a href="#" class="hover:text-white">Terms of Service</a>-->
<!--            <a href="#" class="hover:text-white">Contact Us</a>-->
<!--        </div>-->
<!--    </div>-->
<!--</footer>-->

<!--<script>-->
<!--    const selectedVariations = {};-->

<!--    async function fetchProductData(productId) {-->
<!--      try {-->
<!--        const resp = await fetch(`/products/get-product/${productId}`);-->
<!--        const data = await resp.json();-->
<!--        renderProduct(data);-->
<!--      } catch (e) {-->
<!--        console.error(e);-->
<!--        document.getElementById('product-name').textContent = 'Failed to load product';-->
<!--      }-->
<!--    }-->

<!--    function renderProduct(d) {-->
<!--      document.getElementById('product-name').textContent = d.productName || '';-->
<!--      document.getElementById('short-description').textContent = d.productShortDescription || '';-->
<!--      document.getElementById('full-description').innerHTML = d.productDescription || '';-->
<!--      document.getElementById('sku').textContent = d.sku || '';-->
<!--      document.getElementById('category').textContent = d.category || '';-->
<!--      document.getElementById('product-category').textContent = d.category || '';-->
<!--      document.getElementById('mainImage').src = d.primaryImage || '';-->
<!--      document.getElementById('size-guide-image').src = d.sizeGuideImage || '';-->
<!--      document.getElementById('stock-status').innerHTML = d.stockStatus === 'IN_STOCK'-->
<!--        ? '<i class="fas fa-check-circle text-green-600"></i> In Stock'-->
<!--        : '<i class="fas fa-times-circle text-red-600"></i> Out of Stock';-->
<!--      document.getElementById('product-price').textContent = `$${d.regularPrice || 0}`;-->

<!--      // TODO: render variations, reviews, related, gallery...-->
<!--      // Suggest reusing logic from previous code version-->
<!--    }-->

<!--    function adjustQuantity(delta) {-->
<!--      const q = document.getElementById('quantity');-->
<!--      const v = Math.max(1, parseInt(q.value || 1) + delta);-->
<!--      q.value = v;-->
<!--    }-->

<!--    // Example: fetch on load (replace with real productId via Thymeleaf)-->
<!--    fetchProductData(/*[[${productId}]]*/ 'demo-id');-->
<!--  </script>-->
<!--</body>-->
<!--</html>-->









<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title th:text="${product.name}">Product Detail</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container mt-5">
    <!-- Product Detail -->
    <div class="row">
        <div class="col-md-6">
            <img th:src="${product.productImages[0].url}" class="img-fluid mb-3" alt="Main Image">
            <div class="d-flex gap-2">
                <img th:each="img : ${product.productImages}" th:src="${img.url}" class="img-thumbnail" style="width:80px;height:80px;">
            </div>
        </div>
        <div class="col-md-6">
            <h2 th:text="${product.name}"></h2>
            <h4 class="text-danger">$<span th:text="${product.price}"></span></h4>
            <p th:text="${product.shortDescription}"></p>

            <ul>
                <li th:each="v : ${variations}" class="mt-2">
                    <strong th:text="${v.attributes[0].attributeTerm.name}"></strong>:
                    <span th:text="${v.price} + ' $'"></span>
                </li>
            </ul>

            <button class="btn btn-primary mt-3">Add to Cart</button>
        </div>
    </div>

    <!-- Description -->
    <div class="mt-5">
        <h4>Description</h4>
        <p th:text="${product.description}"></p>
    </div>

    <!-- Related Products -->
    <div class="mt-5">
        <h4>Related Products</h4>
        <div class="row">
            <div class="col-md-3" th:each="rp : ${relatedProducts}">
                <div class="card">
                    <img th:src="${rp.productImages[0]?.url}" class="card-img-top" alt="...">
                    <div class="card-body">
                        <h5 class="card-title" th:text="${rp.name}"></h5>
                        <p class="card-text">$<span th:text="${rp.price}"></span></p>
                        <a th:href="@{'/product/' + ${rp.id}}" class="btn btn-outline-primary btn-sm">View</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
